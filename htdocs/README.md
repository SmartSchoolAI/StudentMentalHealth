<p align="center">
	<img alt="logo" src="https://www.dandian.net/cn/wp-content/uploads/20171021044351_57.png">
</p>
<h1 align="center" style="margin: 30px 0 30px; font-weight: bold;">单点高校心理健康管理系统 v0.1</h1>
<h4 align="center">支持心理健康AI对话， 集成国产心理健康AI大模型</h4>

## 平台简介

单点高校心理健康管理系统是为高校职校提供的一款涵盖心理测评，心理报告，心理AI咨询等领域的高校学生心理健康解决方案，基于GPL和商业许可双重授权发布。

* 技术架构: 前端采用React，NextJS，MUI; 后端采用PHP，MYSQL。
* 权限认证: 使用Jwt，支持AES-256-CBC和SM4-CBC(国密)等多种加密和认证方式，支持多终端认证系统。
* 基础框架：内置单点低代码开发平台，拥有超过15年以上行业管理软件开发经验。
* 主要功能: 心理测评，心理报告，心理AI咨询。
* 业务特点：支持老师和学生用户登录；内置学生，班主任，专业，系部等特殊角色，用于适用不同的应用场景。
* 数据加密: 采用AES-256-GCM加密技术对API返回的接口数据进行加密，在前端接收到密文以后再进行解密和显示，可以极大的提高系统的安全性。

## 内置功能

### 心理测评
    设置心理测评的项目，以及管理学生的测评记录。

### 心理报告
    由系统生成学生的心理状态报告。

### 心理AI咨询
1.  心理老师AI对话: 支持学校心理老师使用AI对话的功能，用于记录或是实时反馈学生提出的心理问题。
2.  学生使用AI对话: 根据学校要求，可以设置开放或是关闭学生使用心理AI对话功能，如果开放，则允许学生使用AI对话功能。
3.  学生有条件使用AI对话: 学生可以在系统中提出心理问题，心理老师审核通过以后，由AI生成心理问题的回复，然后由心理老师对AI生成的回复进行审核，无误以后，回复给学生。
4.  AI对话模型: 国产大模型，不使用国外模型; 同时提交给AI的数据是匿名数据， 可以再次确保身份信息不会泄漏给大模型。

### 系统管理 
    基础信息设置，包括：单位，部门，用户，角色，消息提醒，操作日志，慢SQL查询等模块。

### 基础数据 
    学校基础信息，包括：系部，专业，班级，课程，教学计划，校区，建筑物，房间，教研室等模块。

### 学生管理
    学生信息管理，支持调班，退学，休学，复学等基础功能。

### 低代码开发平台
1.  表单设计：设计底层的数据表和结构，可以设置每一个字段的数据库类型和显示类型（业务逻辑类型）。
2.  功能设计：针对表单的一系列增刪查改操作，可以根据不同的业务逻辑需要，设置不同的功能（流程）页面。通过一些参数的配置，可以达到工作流程审核的效果，也可以设计独立的页面。
3.  显示类型：内置大量常用的显示类型，用于在设计表单和功能的时候使用。
4.  数据字典：设置数据字典，用于显示类型的下拉、多选等项目，主要用于给显示类型提供数据源。
5.  菜单管理：分为一级菜单和二级菜单管理，通常不需要在此进行修改，直接在【流程管理】的【界面】中直接设定菜单位置即可。
6.  角色与权限：设计好的菜单，分配权限以后，就可以直接在系统中打开使用。
7.  消息提醒：针对每一个功能菜单，都可以设置独立的消息提醒功能，不同的数据条件会触发不同的消息提醒内容。另外，可以自定义消息模板，设置提醒对像（内置消息提醒对像为：学生，班主任，院系负责人，专业负责人，年段长，宿舍管理员，本班所有学生，本专业所有学生，本校所有学生，用户，部门负责人）。
8.  操作日志：主要有所有记录，新增编辑和删除，编辑和删除，删除操作等几类，可以针对每一个流程设置不同的操作日志级别。
9.  功能页面对字段的控制：在某一个功能（流程）页面里面，针对字段可以设置为正常沿用表单设计的值，只读，禁用，当前用户的某个信息等，用于实现更加灵活的权限控制和功能设计。
10. 界面语言：自定义所有界面和按钮的值，以及返回信息的提示。因为是显示用户自定义的值，所以就只能是一种语言，即你输入的值。
11. 额外权限控制：系统内置了学生，班主任，系部，宿舍管理员等几个常用角色，同时可以指定某个字段等于或包括某个值，用于提供额外的条件判断和过滤。
12. 按钮控制：可以设置新建，导入，导出，编辑，删除，全选等按钮是否显示。
13. 表单提交以后的数据操作：当用户提交表单以后，在特定的某些条件下面，可以更新其它表单的值。
14. 列锁定：可以设置某些列固定在页面的左侧或是右侧，用于更好的显示某些重点信息。
15. 页面排序：用于设置初始条件下面的默认排序和页面显示数量。
16. 初始页面类型：用于设置用户打开页面的时候的页面类型，通常是列表，某个记录的编辑页面或是查看页面。
17. 唯一性判断字段：用于设置表单的唯一性字段，用于支持某些特殊的业务场景。
18. 底部常用按钮控制：删除，批量通过，批量退回，批量拒绝，重置密码为123654，重置密码为身份证号后六位，批量设置一，批量设置二。
19. 批量审核：可以设置批量审核的人，状态，时间，意见。同时支持更新其它字段的值，用于实现其它字段的同步操作。

## 开发进度

正在开发中...

## 如何安装

前端开发环境: Node 18.17.1 以上

前端开发使用命令：
```
npm install
npm run dev
```
前端开发完成进行进行打包命令：
```
npm run build
npm run export
```
后端安装说明：
```
手动安装过程有些繁琐，同时对安装者的技术水平要求有些高，所以建议大家使用一键安装包来安装。
手动配置后端过程:
后端代码在api目录下面，需要PHP7和MYSQL5.6以上支持。
数据库脚本：需要在安装包的数据库中导出SQL脚本
PHP配置文件：api/config.inc.php
导入数据库脚本并且配置完数据库的用户名和密码过后，需要在前端项目中单独配置一下您的后端地址，假设您的后端地址是 http://localhost/api ，然后需要把这个后端地址修改到/src/configs/auth.ts的APP_URL变量，这样前端就可以得到后端的地址并进行调用。
在配置后端环境的过程中，需要在Apache中增加以下配置，用于在PHP获取Authorization的值:
<IfModule mod_rewrite.c>
    Options +FollowSymlinks -Multiviews
    RewriteEngine on
    RewriteCond %{HTTP:Authorization} ^(.*)
    RewriteRule .* - [E=HTTP_AUTHORIZATION:%1]
</IfModule>
手动安装过程有些繁琐，同时对安装者的技术水平要求有些高，所以建议大家使用一键安装包来安装。
```
一键安装包：
```
一键安装包的主要环境参数:
PHP: 8.2.4
APACHE: 2.4.56
MYSQL: MariaDB 10.4

1 双击 MYEDU.exe， 文件解压过程中如果有窗口提示，请允许。
2 文件解压完成以后，弹出一个对话框，请输入1，此时会把相关的路径替换为您解压的位置。
3 打开xampp-control.exe， 然后手工启动Apache和Mysql，如果有提示端口冲突，可以更换为其它的端口.在这个环节可以设置系统服务或是启动后执行。
4 APACHE和MYSQL正常启动以后，请在浏览器打开 http://localhost 就可以看到系统的界面了。

当前运行环境从xampp-windows-x64-8.2.4-0-VS16-installer.exe(https://sourceforge.net/projects/xampp/files/XAMPP%20Windows/)精简而来。
```

## 软件授权
### GPL 授权
    根据GPL协议的内容，您只有在修改了本系统代码的时候，需要开放你的修改内容。
    如果你不想公开代码的修改内容，请联系我们取得商业授权。
    如果没有修改本系统的代码，那么你一直可以使用，无需取得额外软件授权许可。

### 商业授权
    授权形式：一次性授权，终身使用。
    包含服务：仅为商业授权许可费用，服务费用需要单独购买。
    如有需要，请联系我们得取商业授权价格。

### 服务费用
    无论是GPL授权，还是商业授权，都跟服务费用没有关系。无论您是哪一种授权许可，如果需要一对一的技术支持，请联系我们购买年度服务费用。
    服务形式：通常是以QQ群组或是微信群组一对一的形式提供技术服务。
    计费形式：最少服务周期为一年，不接受少于一年的技术服务费用形式。
    服务内容：技术支持，不会涉及到二次开发部分内容。
    商业服务: 跟学校学籍系统对接，数据同步，报告个性化定制等。
    
## 交流群组

QQ群： 138595160
